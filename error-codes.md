# FusionNet Error Codes
**GitHub Location:** `docs/api/error-codes.md`

This document provides a detailed explanation of all the error codes used in the FusionNet application. It is designed for developers onboarding to the project, so they can understand errors, their meaning, and how to handle them.

---

## Table of Contents
1. [Introduction](#introduction)  
2. [Error Code Structure](#error-code-structure)  
3. [HTTP Status Codes](#http-status-codes)  
4. [FusionNet Application Error Codes](#fusionnet-application-error-codes)  
5. [How to Use Error Codes](#how-to-use-error-codes)  
6. [Examples](#examples)  
7. [Notes for Developers](#notes-for-developers)  

---

## 1. Introduction
In any backend system, errors can occur for many reasons: invalid requests, missing data, server issues, or failed business rules.

FusionNet classifies errors into two main types:

1. **HTTP Errors** – Standard HTTP status codes like 404, 500, etc.  
2. **Application Errors** – Custom errors generated by FusionNet for specific business logic or validation rules.

Using structured error codes makes it easy to debug issues, log problems consistently, and communicate errors to the frontend.

---

## 2. Error Code Structure

### 2.1 HTTP Errors
These are standard codes defined by the HTTP protocol. Examples:

- `400` → Bad Request  
- `401` → Unauthorized  
- `404` → Not Found  
- `500` → Internal Server Error  

**Tip:** Always check the HTTP code first before looking at custom application errors.

### 2.2 Application Errors
FusionNet uses a prefix + number format for custom errors:  

**`FN###`**  
- `FN` → FusionNet  
- `###` → Unique number identifying the error  

**Example:** `FN008` → Submittal Upload Failed  

**Why:**  
- Distinguishes custom errors from HTTP codes  
- Makes debugging easier  
- Ensures consistent error handling  

---

## 3. HTTP Status Codes

| Status Code | Name                  | Description                                | Recommended Action            |
|-------------|---------------------|--------------------------------------------|-------------------------------|
| 400         | Bad Request          | The request is invalid.                     | Check input parameters.       |
| 401         | Unauthorized         | Login required or failed.                   | Provide valid credentials.    |
| 403         | Forbidden            | Access denied.                              | Check user permissions.       |
| 404         | Not Found            | Resource does not exist.                    | Verify URL or resource ID.    |
| 409         | Conflict             | Resource conflict (e.g., duplicate entry). | Resolve conflict before retry.|
| 422         | Unprocessable Entity | Validation failed (e.g., mandatory fields missing). | Fix the validation errors. |
| 500         | Internal Server Error| Unexpected server error.                    | Check server logs.            |
| 503         | Service Unavailable  | Temporary server unavailability.            | Retry later.                  |

---

## 4. FusionNet Application Error Codes

| Code   | Name                        | Description                                   | Recommended Action                      |
|--------|-----------------------------|-----------------------------------------------|----------------------------------------|
| FN001  | User Not Found              | User ID does not exist.                        | Check user ID.                          |
| FN002  | Invalid Credentials         | Login failed due to wrong credentials.        | Not a Registered User                   |
| FN003  | Session Expired             | User session has expired.                      | Login again.                            |
| FN004  | Unauthorized Access         | User does not have permission to access resource. | Check roles and permissions           |
| FN005  | Project Not Found           | Project ID does not exist.                     | Verify project ID.                      |
| FN006  | Duplicate Project           | Project with same name already exists.        | Use a unique project name.              |
| FN007  | Database Error              | General database failure.                      | Check database connectivity/logs.       |
| FN008  | Submittal Upload Failed     | Error during submittal upload.                | Retry upload or check file format.     |
| FN009  | File Too Large              | Uploaded file exceeds allowed size.           | Reduce file size.                        |
| FN010  | Unsupported File Type       | File type not allowed.                         | Upload a supported file type.           |
| FN011  | Duplicate Submittal         | Submittal already exists for this project.    | Check previous submissions.             |
| FN012  | Missing Required Field      | Mandatory field not provided in request.      | Fill all required fields.               |
| FN013  | Invalid Request Format      | Request body does not match expected format.  | Check request payload.                  |
| FN014  | Invalid Field Value         | Field value does not match expected format/type. | Correct the field value.             |
| FN015  | OCR Processing Error        | OCR service failed or document unreadable.    | Retry or check document.                |
| FN016  | Validation Failed           | Document failed compliance validation.        | Review validation errors.               |
| FN017  | Reviewer Approval Missing   | No reviewer assigned for approval checkpoint. | Assign reviewer.                        |
| FN018  | Compliance Report Failed    | Generating compliance report failed.          | Retry generation process.               |
| FN019  | Service Timeout             | Backend service timed out.                     | Retry request or check service status. |
| FN020  | External API Failure        | Integration with external API failed.         | Check API response/logs.                |

These codes cover all common backend errors in the FusionNet workflow, from login → project creation → document upload → OCR/Validation → review/compliance → report generation.

---

## 5. Explanation for Developers
- Each error code represents a specific scenario in the backend.  
- Frontend can use these codes to show user-friendly messages.  
- Always log these codes in backend logs for easier debugging.  

---

## 6. How to Use Error Codes

### 6.1 Backend
- When a function fails, throw an exception with the HTTP code and the FusionNet error code.  

**Example:**
```json
{
  "httpStatus": 404,
  "errorCode": "FN001",
  "message": "User with ID 12345 does not exist."
}
```

### 6.2 Frontend:
    - Check the errorCode to provide specific messages to the user.
    - Optionally, use httpStatus to handle generic errors.

### 6.3 Logging:
    - Always include the errorCode in server logs.
    - Makes tracing and debugging much faster.


**Examples**
**Example 1**: Invalid Credentials

```json
{
  "httpStatus": 401,
  "errorCode": "FN002",
  "message": "Login failed due to incorrect username or password."
}
```

**Example 2**: Validation Failed
```json
{
  "httpStatus": 422,
  "errorCode": "FN016",
  "message": "Document failed validation due to missing mandatory fields."
}
```

**Example 3**: Project Not Found
``` json
{
  "httpStatus": 404,
  "errorCode": "FN005",
  "message": "Project with ID 98765 does not exist."
}
```
**Example 4**: Submittal Upload Failed
```json
{
  "httpStatus": 400,
  "errorCode": "FN008",
  "message": "Submittal upload failed. Please check the file format and try again."
}
```

**Example 5**: Compliance Report Failed
```json
{
  "httpStatus": 500,
  "errorCode": "FN018",
  "message": "Failed to generate compliance report. Please retry."
}
```

## Notes for Developers:

- Always use the provided error codes; don’t create new numbers without approval.
- Check both HTTP status and application error code when debugging issues.
- Refer to this document whenever you add new functionality that might fail.
